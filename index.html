<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PLONK å”å®šæŠ€è¡“å ±å‘Š</title>
    
    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            startup: {
                typeset: true
            }
        };
    </script>
    <!-- ç§»é™¤ polyfill.io ä»¥æå‡å®‰å…¨æ€§ -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- Mermaid JS (v9.4.3 Stable) -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@9.4.3/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            mermaid.initialize({ 
                startOnLoad: false,
                theme: 'neutral',
                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
                securityLevel: 'loose',
                flowchart: {
                    curve: 'basis',
                    htmlLabels: true,
                    useMaxWidth: false
                }
            });

            const mermaidNodes = document.querySelectorAll('.mermaid');
            
            // ä½¿ç”¨ Promise ç¢ºä¿æ¸²æŸ“å®Œæˆå¾Œå†é¡¯ç¤ºï¼Œé¿å…ä½ˆå±€è·³å‹•
            mermaid.init(undefined, mermaidNodes).then(() => {
                mermaidNodes.forEach(node => {
                    node.style.visibility = 'visible';
                    node.style.opacity = '1';
                });
            }).catch(err => {
                console.error("Mermaid rendering failed:", err);
                // å³ä½¿å¤±æ•—ä¹Ÿå˜—è©¦é¡¯ç¤ºå…§å®¹ï¼ˆå¯èƒ½æ˜¯ç´”æ–‡å­—ï¼‰
                mermaidNodes.forEach(node => {
                    node.style.visibility = 'visible';
                    node.style.opacity = '1';
                });
            });
        });
    </script>
    
    <style>
        :root {
            --sidebar-width: 280px;
            --primary-color: #2c3e50;
            --link-color: #3498db;
            --bg-color: #ffffff;
            --text-color: #333333;
            --code-bg: #f8f9fa;
            --border-color: #e9ecef;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
            color: var(--text-color);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar Styling */
        .sidebar {
            width: var(--sidebar-width);
            background-color: #f7f9fa;
            border-right: 1px solid var(--border-color);
            padding: 2rem 1rem;
            overflow-y: auto;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
        }

        .sidebar h1 {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            color: var(--primary-color);
            padding-left: 0.5rem;
        }

        .sidebar nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar nav li {
            margin-bottom: 0.5rem;
        }

        .sidebar nav a {
            text-decoration: none;
            color: #57606a;
            font-size: 0.95rem;
            display: block;
            padding: 0.5rem;
            border-radius: 6px;
            transition: background-color 0.2s;
        }

        .sidebar nav a:hover, .sidebar nav a.active {
            background-color: #e1e4e8;
            color: var(--primary-color);
            font-weight: 500;
        }

        /* Main Content Styling */
        main {
            flex-grow: 1;
            padding: 2rem 4rem;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

        section {
            max-width: 900px;
            margin: 0 auto 4rem auto;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 2rem;
        }

        section:last-child {
            border-bottom: none;
        }

        h2 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-top: 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        h3 {
            font-size: 1.5rem;
            color: #4a5568;
            margin-top: 2rem;
        }

        h4 {
            font-size: 1.2rem;
            color: #4a5568;
            margin-top: 1.5rem;
        }

        p {
            line-height: 1.7;
            margin-bottom: 1.2rem;
            text-align: justify;
        }

        ul, ol {
            line-height: 1.7;
            margin-bottom: 1.2rem;
            padding-left: 2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            background-color: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.9em;
            color: #d63384;
        }

        .math {
            font-size: 1.05em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        th, td {
            border: 1px solid var(--border-color);
            padding: 0.75rem;
            text-align: left;
        }

        th {
            background-color: var(--code-bg);
            font-weight: 600;
        }

        /* Chart Container & Mermaid Styling */
        .chart-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            width: 100%;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .mermaid {
            visibility: hidden; 
            opacity: 0;
            transition: opacity 0.3s ease-in;
            display: block;
            margin: 0 auto;
        }

        .mermaid svg {
            max-width: none !important; 
            height: auto;
        }
        
        /* Author Info */
        .author-info {
            margin-top: -1.5rem;
            margin-bottom: 2rem;
            font-size: 1.1rem;
            color: #555;
            font-weight: 500;
        }

        /* Demo Button Styling */
        .demo-box {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: #e3f2fd;
            border-left: 5px solid #2196f3;
            border-radius: 4px;
        }

        .demo-title {
            margin-top: 0;
            color: #0d47a1;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            background-color: #2196f3;
            border: 1px solid #2196f3;
            border-radius: 4px;
            color: white;
            text-decoration: none;
            transition: all 0.2s;
            font-weight: bold;
            margin-top: 0.5rem;
        }

        .btn:hover {
            background-color: #1976d2;
            border-color: #1976d2;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
                overflow: auto;
            }
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                height: auto;
            }
            main {
                padding: 1.5rem;
            }
            .chart-container {
                justify-content: flex-start;
            }
        }
    </style>
</head>
<body>

<aside class="sidebar">
    <h1>PLONK æŠ€è¡“å ±å‘Š</h1>
    <nav>
        <ul>
            <li><a href="#abstract">0. æ‘˜è¦ (Abstract)</a></li>
            <li><a href="#intro">1. å‰è¨€èˆ‡å‹•æ©Ÿ (Introduction)</a></li>
            <li><a href="#system-roles">2. ç³»çµ±èˆ‡è§’è‰²æ¨¡å‹ (System Roles)</a></li>
            <li><a href="#overview">3. æ•´é«”æµç¨‹æ¦‚è§€ (Overview)</a></li>
            <li><a href="#math">4. æ•¸å­¸èˆ‡å»ºæ¨¡åŸºç¤ (Math Foundation)</a></li>
            <li><a href="#permutation">5. Permutation Argument</a></li>
            <li><a href="#setup">6. é€šç”¨åˆå§‹è¨­å®š (Setup)</a></li>
            <li><a href="#preprocessing">7. é›»è·¯é è™•ç† (Preprocessing)</a></li>
            <li><a href="#proving">8. Prover æµç¨‹ (Proving)</a></li>
            <li><a href="#verification">9. Verifier æµç¨‹ (Verification)</a></li>
            <li><a href="#performance">10. æ•ˆèƒ½èˆ‡å¯¦ä½œ (Performance)</a></li>
            <li><a href="#security">11. å®‰å…¨æ€§èˆ‡æ“´å…… (Security)</a></li>
            <li><a href="#conclusion">12. çµè«– (Conclusion)</a></li>
        </ul>
    </nav>
</aside>

<main>

    <section id="abstract">
        <h2>0. æ‘˜è¦ (Abstract)</h2>
        <div class="author-info">å ±å‘Šäººï¼šé«˜ç’¿ç¨‹</div>
        <p>
            é›¶çŸ¥è­˜ç°¡æ½”éäº’å‹•å¼çŸ¥è­˜è«–è­‰ï¼ˆzk-SNARKï¼‰åœ¨å€å¡Šéˆéš±ç§èˆ‡æ“´å±•æ€§æ‡‰ç”¨ä¸­æ‰®æ¼”é—œéµè§’è‰²ã€‚æ—©æœŸçš„ SNARK æ–¹æ¡ˆï¼ˆå¦‚ Groth16ï¼‰ä¾è³´é‡å°ç‰¹å®šé›»è·¯çš„ trusted setupï¼Œé€™åœ¨å¯¦éš›éƒ¨ç½²ä¸­ç”¢ç”Ÿäº†å·¨å¤§çš„ç®¡ç†æˆæœ¬èˆ‡å®‰å…¨éš±æ†‚ã€‚Sonic å”å®šé›–ç„¶å¼•å…¥äº†é€šç”¨ä¸”å¯æ›´æ–°ï¼ˆuniversal and updatableï¼‰çš„çµæ§‹åƒè€ƒå­—ä¸²ï¼ˆSRSï¼‰ï¼Œè§£æ±ºäº†é›»è·¯ç›¸ä¾æ€§çš„å•é¡Œï¼Œä½†å…¶è­‰æ˜è€…ï¼ˆProverï¼‰çš„è¨ˆç®—æˆæœ¬éé«˜ï¼Œå°è‡´ç”Ÿæˆè­‰æ˜æ¥µå…¶ç·©æ…¢ï¼Œé›£ä»¥æ»¿è¶³å¯¦éš›æ‡‰ç”¨éœ€æ±‚ã€‚
        </p>
        <p>
            æœ¬å ±å‘Šåˆ†æçš„ PLONK å”å®šï¼Œæ—¨åœ¨è§£æ±ºä¸Šè¿°æ•ˆèƒ½ç“¶é ¸ã€‚PLONK çš„æ ¸å¿ƒè²¢ç»åœ¨æ–¼æå‡ºäº†ä¸€ç¨®åŸºæ–¼æ‹‰æ ¼æœ—æ—¥åŸºåº•ï¼ˆLagrange basesï¼‰èˆ‡ä¹˜æ³•å­ç¾¤ï¼ˆmultiplicative subgroupï¼‰çš„ç®—è¡“åŒ–æ–¹æ¡ˆï¼Œä¸¦çµåˆäº†ä¸€ç¨®æ–°ç©çš„ç½®æ›è«–è­‰ï¼ˆpermutation argumentï¼‰ä¾†ç°¡åŒ–é›»è·¯ä¸­ç·šè·¯é€£æ¥ï¼ˆwiringï¼‰çš„æª¢æŸ¥ã€‚ç›¸è¼ƒæ–¼ Sonicï¼ŒPLONK é¡¯è‘—é™ä½äº† Prover æ‰€éœ€çš„ç¾¤æŒ‡æ•¸é‹ç®—æ¬¡æ•¸ï¼Œå°‡è¤‡é›œåº¦å¾èˆ‡é›»è·¯å¤§å°ç›¸é—œçš„å·¨å¤§å¸¸æ•¸å€æ•¸å¤§å¹…ç¸®æ¸›ï¼Œä½¿å…¶è­‰æ˜ç”Ÿæˆé€Ÿåº¦æå‡äº†æ•¸å€è‡³ä¸€å€‹æ•¸é‡ç´šã€‚
        </p>
        <p>
            æœ¬å ±å‘Šå°‡å¾ã€Œç³»çµ±è§’è‰²ã€èˆ‡ã€ŒæŠ€è¡“æµç¨‹ã€çš„è§’åº¦è§£æ§‹ PLONK å”å®šã€‚æˆ‘å€‘å°‡è©³ç´°æ¢è¨å…¶å¦‚ä½•é€éå¤šé …å¼æ‰¿è«¾æ–¹æ¡ˆï¼ˆPolynomial Commitment Schemeï¼‰èˆ‡å¤šé …å¼äº’å‹•å”è­°ï¼ˆPolynomial Interactive Oracle Proofsï¼‰ä¾†æ§‹å»º SNARKã€‚é‡é»å°‡æ”¾åœ¨è§£æå…¶ç¨ç‰¹çš„ permutation check æ©Ÿåˆ¶ã€Prover çš„äº”è¼ªäº’å‹•æµç¨‹ï¼Œä»¥åŠ Verifier å¦‚ä½•é€éå¸¸æ•¸æ¬¡é…å°é‹ç®—å®Œæˆé«˜æ•ˆé©—è­‰ï¼Œå¾è€Œå¯¦ç¾ä¸€å€‹é€šç”¨ã€é«˜æ•ˆä¸”å®‰å…¨çš„ zk-SNARK ç³»çµ±ã€‚
        </p>
    </section>

    <section id="intro">
        <h2>1. å‰è¨€èˆ‡å‹•æ©Ÿ (Introduction)</h2>
        
        <h3>1.1 èƒŒæ™¯ï¼šzk-SNARK èˆ‡é€šç”¨ SRS</h3>
        <p>
            zk-SNARK æŠ€è¡“å…è¨±è­‰æ˜è€…å‘é©—è­‰è€…è­‰æ˜æŸå€‹è¨ˆç®—çµæœçš„æ­£ç¢ºæ€§ï¼Œè€Œä¸æ´©éœ²ä»»ä½•ç§å¯†è¼¸å…¥ã€‚ä¸€å€‹ç†æƒ³çš„ã€Œå®Œå…¨ç°¡æ½”ï¼ˆfully succinctï¼‰ã€SNARK æ‡‰æ»¿è¶³å››å€‹æ¢ä»¶ï¼š(1) SRS ç”Ÿæˆæ™‚é–“çŸ­ä¸”å®‰å…¨ï¼Œ(2) Prover è¨ˆç®—æ•ˆç‡é«˜ï¼Œ(3) Proof é•·åº¦æ¥µçŸ­ï¼ˆå¦‚å¸¸æ•¸å¤§å°ï¼‰ï¼Œ(4) Verifier é©—è­‰æ™‚é–“æ¥µçŸ­ï¼ˆå¦‚å¸¸æ•¸æ™‚é–“æˆ–å°æ•¸æ™‚é–“ï¼‰ã€‚æ—©æœŸçš„ Groth16 æ–¹æ¡ˆé›–ç„¶åœ¨å¾Œå…©è€…è¡¨ç¾å„ªç•°ï¼Œä½†å…¶ SRS ç¶å®šç‰¹å®šé›»è·¯ï¼Œä¸€æ—¦é›»è·¯é‚è¼¯ä¿®æ”¹ï¼Œå°±éœ€è¦é‡æ–°é€²è¡Œå¤šæ–¹è¨ˆç®—å„€å¼ï¼ˆMPC setupï¼‰ï¼Œé€™æ¥µå¤§é™åˆ¶äº†éˆæ´»æ€§ã€‚
        </p>

        <h3>1.2 Sonic çš„é™åˆ¶èˆ‡ PLONK çš„ç›®æ¨™</h3>
        <p>
            Sonic å”å®šæ˜¯é¦–å€‹å¯¦ç¾ã€Œé€šç”¨ä¸”å¯æ›´æ–° SRSã€çš„å¯¦ç”¨ zk-SNARKï¼Œé€™æ„å‘³è‘—åŒä¸€å€‹ SRS å¯ä»¥æ”¯æ´æ‰€æœ‰ä¸è¶…éç‰¹å®šå¤§å°çš„é›»è·¯ï¼Œä¸” SRS å¯ä»¥éš¨æ™‚ç”±æ–°çš„åƒèˆ‡è€…æ›´æ–°ä»¥å¢å¼·å®‰å…¨æ€§ã€‚ç„¶è€Œï¼ŒSonic åœ¨è¿½æ±‚é€šç”¨æ€§çš„åŒæ™‚ä»˜å‡ºäº†ä»£åƒ¹ï¼šå…¶ Prover éœ€è¦é€²è¡Œå¤§é‡çš„æ˜‚è²´ç¾¤é‹ç®—ï¼Œä½¿å¾—è­‰æ˜ç”Ÿæˆè®Šå¾—ç¬¨é‡ä¸”ç·©æ…¢ã€‚PLONK çš„è¨­è¨ˆç›®æ¨™æ­£æ˜¯åœ¨ä¿ç•™ Sonic é€šç”¨æ€§èˆ‡å¯æ›´æ–°æ€§å„ªå‹¢çš„åŒæ™‚ï¼Œå¤§å¹…å„ªåŒ– Prover çš„è¨ˆç®—è¤‡é›œåº¦ï¼Œä¸¦æ¸›å°‘ SRS çš„å¤§å°ï¼Œä½¿å…¶æ›´æ¥è¿‘ Groth16 çš„æ•ˆèƒ½æ°´æº–ã€‚
        </p>

        <h3>1.3 æœ¬å ±å‘Šçš„æ¶æ§‹èˆ‡é–±è®€æ–¹å¼</h3>
        <p>
            æœ¬å ±å‘Šå°‡æŒ‰ä»¥ä¸‹çµæ§‹æ·±å…¥å‰–æ PLONKï¼š
            <ul>
                <li><strong>ç¬¬ 2 ç« </strong>ï¼šå®šç¾©ç³»çµ±ä¸­çš„åƒèˆ‡è§’è‰²ã€ä¿¡ä»»æ¨¡å‹èˆ‡å°æ‰‹æ¨¡å‹ã€‚</li>
                <li><strong>ç¬¬ 3â€“7 ç« </strong>ï¼šé€™æ˜¯æœ¬å ±å‘Šçš„æ ¸å¿ƒï¼Œå°‡ä¾åºä»‹ç´¹æ•´é«”é‹ä½œæµç¨‹ã€åº•å±¤æ•¸å­¸åŸºç¤ï¼ˆå¤šé …å¼æ‰¿è«¾èˆ‡åŸŸé‹ç®—ï¼‰ã€æ ¸å¿ƒçš„ Permutation Argument æ©Ÿåˆ¶ï¼Œä¸¦è©³ç´°æ‹†è§£ Prover çš„è­‰æ˜ç”Ÿæˆæ­¥é©Ÿèˆ‡ Verifier çš„é©—è­‰é‚è¼¯ã€‚</li>
                <li><strong>ç¬¬ 8â€“10 ç« </strong>ï¼šåˆ†æ PLONK çš„å¯¦éš›æ•ˆèƒ½è¡¨ç¾ã€å®‰å…¨æ€§è«–è­‰ï¼Œä¸¦ç¸½çµå…¶åœ¨éš±ç§è¨ˆç®—é ˜åŸŸçš„æ‡‰ç”¨å‰æ™¯èˆ‡æœªä¾†ç™¼å±•ã€‚</li>
            </ul>
        </p>
    </section>

    <section id="system-roles">
        <h2>2. ç³»çµ±èˆ‡è§’è‰²æ¨¡å‹ (System Roles)</h2>

        <h3>2.1 ç³»çµ±æ¦‚è§€èˆ‡ä¿¡ä»»æ¨¡å‹</h3>
        <p>
            PLONK å»ºç«‹åœ¨é€šç”¨åƒè€ƒå­—ä¸²ï¼ˆUniversal Structured Reference String, SRSï¼‰æ¨¡å‹ä¹‹ä¸Šã€‚èˆ‡å‚³çµ±é›»è·¯å°ˆç”¨ SRS ä¸åŒï¼Œé€šç”¨çš„ SRS é€éå¤šæ–¹è¨ˆç®—ï¼ˆMPCï¼‰å„€å¼ç”Ÿæˆï¼Œå…·æœ‰ã€Œå¯æ›´æ–°ï¼ˆupdatableï¼‰ã€ç‰¹æ€§ã€‚æ­¤æ¨¡å‹å¤§å¹…é™ä½äº†ä¿¡ä»»é–€æª»ï¼Œåªè¦å„€å¼ä¸­è‡³å°‘æœ‰ä¸€ä½åƒèˆ‡è€…æ˜¯èª å¯¦çš„ï¼Œç”Ÿæˆçš„ SRS å°±æ˜¯å®‰å…¨çš„ã€‚
        </p>

        <h3>2.2 ä¸»è¦è§’è‰²</h3>
        <p>åœ¨ç†è§£ PLONK æ™‚ï¼Œæˆ‘å€‘å€åˆ†ã€Œç¾å¯¦ä¸–ç•Œä¸­çš„åƒèˆ‡è€…ã€èˆ‡ã€Œå®‰å…¨è­‰æ˜æ¨¡å‹ä¸­çš„è§’è‰²ã€ï¼š</p>
        
        <h4>ç¾å¯¦ä¸–ç•Œåƒèˆ‡è€…</h4>
        <ul>
            <li><strong>Setup åƒèˆ‡è€… (Setup Participants)</strong>ï¼šè² è²¬åŸ·è¡Œ MPC å„€å¼ï¼Œç”Ÿæˆ monomials SRSï¼šåœ¨ $\mathbb{G}_1$ ä¸ŠåŒ…å« $[x^i]_1$ ($i=0,\dots,d-1$)ï¼Œåœ¨ $\mathbb{G}_2$ ä¸Šåªéœ€è¦ $[1]_2, [x]_2$ å…©å€‹å…ƒç´ ï¼Œç”¨ä¾†é€²è¡Œé…å°æª¢æŸ¥ã€‚é€™ä»½ SRS åªè·Ÿã€Œæœ€å¤§çš„å¤šé …å¼æ¬¡æ•¸ä¸Šç•Œã€æœ‰é—œï¼Œè€Œä¸ç¶å®šä»»ä½•ç‰¹å®šé›»è·¯ã€‚</li>
            <li><strong>é›»è·¯è¨­è¨ˆè€… (Circuit Designer)</strong>ï¼šå®šç¾©ç´„æŸç³»çµ± <span class="math">\(\mathcal{C}\)</span>ï¼Œç”¢ç”Ÿé è™•ç†åƒæ•¸ï¼ˆé¸æ“‡å­èˆ‡ç½®æ›æ‰¿è«¾ï¼‰ï¼Œå³ Verification Keyã€‚</li>
            <li><strong>è­‰æ˜è€… (Prover)</strong>ï¼šæŒæœ‰ witnessï¼Œè¨ˆç®—è­‰æ˜ <span class="math">\(\pi\)</span>ã€‚</li>
            <li><strong>é©—è­‰è€… (Verifier)</strong>ï¼šé©—è­‰è­‰æ˜ <span class="math">\(\pi\)</span>ã€‚</li>
        </ul>

        <h4>æŠ½è±¡æ¨¡å‹è§’è‰² (Polynomial IOP)</h4>
        <ul>
            <li><strong>ç†æƒ³ç¬¬ä¸‰æ–¹ (Ideal Trusted Party, $\mathcal{I}$)</strong>ï¼šåœ¨æŠ½è±¡å”è­°ä¸­ï¼ŒProver å°‡å¤šé …å¼å®Œæ•´åœ°å‚³é€çµ¦ $\mathcal{I}$ã€‚$\mathcal{I}$ èª å¯¦åœ°å›ç­” Verifier å°é€™äº›å¤šé …å¼åœ¨ç‰¹å®šé»çš„è©¢å•ï¼ˆOracle queriesï¼‰ã€‚é€™ç°¡åŒ–äº†å°å¤šé …å¼è¡Œç‚ºçš„åˆ†æã€‚</li>
            <li><strong>ä»£æ•¸å°æ‰‹ (Algebraic Adversary, $\mathcal{A}$)</strong>ï¼šé€™æ˜¯æˆ‘å€‘å‡è¨­çš„æ”»æ“Šè€…æ¨¡å‹ã€‚</li>
        </ul>

        <h3>2.3 å°æ‰‹æ¨¡å‹èˆ‡ AGM å®‰å…¨æ€§</h3>
        <p>
            PLONK çš„å®‰å…¨æ€§åˆ†æåŸºæ–¼<strong>ä»£æ•¸ç¾¤æ¨¡å‹ï¼ˆAlgebraic Group Model, AGMï¼‰</strong>ã€‚åœ¨æ­¤æ¨¡å‹ä¸­ï¼Œæ¯ç•¶å°æ‰‹è¼¸å‡ºä¸€å€‹ç¾¤å…ƒç´  <span class="math">\(Y\)</span>ï¼Œä»–å¿…é ˆåŒæ™‚æä¾›è©²å…ƒç´ å¦‚ä½•ç”±è¼¸å…¥å…ƒç´  <span class="math">\(X_1, \dots, X_m\)</span> ç·šæ€§çµ„åˆè€Œæˆçš„ä¿‚æ•¸ã€‚
        </p>
        <p>
            <strong>Lemma 2.2 çš„ç›´è¦º</strong>ï¼šAGM å…è¨±æˆ‘å€‘å°‡è¤‡é›œçš„é›™ç·šæ€§é…å°æª¢æŸ¥ï¼ˆReal Pairing Checkï¼‰é‚„åŸç‚ºå¤šé …å¼æ†ç­‰å¼æª¢æŸ¥ï¼ˆIdeal Polynomial Checkï¼‰ã€‚å…·é«”ä¾†èªªï¼Œå¦‚æœä¸€å€‹ä»£æ•¸å°æ‰‹èƒ½æ¬ºé¨™ Pairing Checkï¼Œå‰‡ç›¸ç•¶æ–¼ä»–åœ¨ä¸çŸ¥æƒ…çš„æƒ…æ³ä¸‹è§£æ±ºäº†é›¢æ•£å°æ•¸å•é¡Œï¼ˆQ-DLOGï¼‰ã€‚é€™ç¢ºä¿äº†åªè¦ Polynomial Protocol æ˜¯å®‰å…¨çš„ï¼ˆå…·æœ‰ Knowledge Soundnessï¼‰ï¼Œç·¨è­¯å¾Œçš„ SNARK å°±æ˜¯å®‰å…¨çš„ã€‚
        </p>
    </section>

    <section id="overview">
        <h2>3. æ•´é«”æµç¨‹æ¦‚è§€ (Overview)</h2>

        <h3>3.1 å”å®šç”Ÿå‘½é€±æœŸ</h3>
        <p>PLONK çš„é‹ä½œå¯ä»¥åˆ†ç‚ºå››å€‹ä¸»è¦éšæ®µï¼š</p>
        
        <!-- Mermaid Diagram Insertion -->
        <div class="chart-container">
            <div class="mermaid">
            graph TD
            %% å®šç¾©æ¨£å¼
            classDef process fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
            classDef artifact fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,stroke-dasharray: 5 5;
            classDef actor fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px;

            %% 1. Setup Phase
            subgraph Phase1 ["Phase 1: é€šç”¨ Setup (MPC)"]
                SetupAction("åŸ·è¡Œ MPC å„€å¼"):::process
                SRS("é€šç”¨ SRS"):::artifact
                SetupAction --> SRS
            end

            %% 2. Preprocessing Phase
            subgraph Phase2 ["Phase 2: é›»è·¯é è™•ç†"]
                Circuit("é›»è·¯é‚è¼¯ C"):::artifact
                Compile("ç·¨è­¯èˆ‡æ‰¿è«¾"):::process
                VK("Verification Key"):::artifact
                Circuit --> Compile
                SRS -.-> Compile
                Compile --> VK
            end

            %% 3. Proving Phase
            subgraph Phase3 ["Phase 3: è­‰æ˜ç”Ÿæˆ"]
                InputData("Witness + Public Input"):::artifact
                
                subgraph Rounds ["äº’å‹•å›åˆ Round 1-5"]
                    direction TB
                    R1("Round 1: Wire Polys"):::process
                    R2("Round 2: Permutation Poly"):::process
                    R3("Round 3: Quotient Poly"):::process
                    R4("Round 4: Evaluations"):::process
                    R5("Round 5: Opening Proofs"):::process
                    
                    R1 --> R2 --> R3 --> R4 --> R5
                end
                
                Proof("Proof"):::artifact
                
                SRS -.-> Rounds
                InputData --> Rounds
                R5 --> Proof
            end

            %% 4. Verification Phase
            subgraph Phase4 ["Phase 4: é©—è­‰"]
                VerifyCheck("Pairing Check"):::process
                Result(["Accept / Reject"])
                
                SRS -.-> VerifyCheck
                VK --> VerifyCheck
                Proof --> VerifyCheck
                PI("Public Input"):::artifact --> VerifyCheck
                VerifyCheck --> Result
            end

            %% Global Data Flow Connections
            SRS -.-> Phase2
            SRS -.-> Phase3
            SRS -.-> Phase4
            
            linkStyle default stroke:#333,stroke-width:1px;
            </div>
        </div>

        <ol>
            <li><strong>é€šç”¨ Setup (Universal Setup)</strong>ï¼š
                <ul>
                    <li>åŸ·è¡Œä¸€æ¬¡æ€§çš„ MPC å„€å¼ã€‚</li>
                    <li>ç”¢å‡ºå…¨åŸŸé€šç”¨çš„ SRSï¼Œä¸ç¶å®šä»»ä½•ç‰¹å®šé›»è·¯ã€‚</li>
                </ul>
            </li>
            <li><strong>é›»è·¯é è™•ç† (Preprocessing)</strong>ï¼š
                <ul>
                    <li>é‡å°ç‰¹å®šé›»è·¯ <span class="math">\(\mathcal{C}\)</span> é€²è¡Œç·¨è­¯ã€‚</li>
                    <li>ç”¢ç”Ÿ Selector å¤šé …å¼ (<span class="math">\(q_L, q_R, \dots\)</span>) èˆ‡ Permutation å¤šé …å¼ (<span class="math">\(S_{\sigma}\)</span>)ã€‚</li>
                    <li>è¨ˆç®—ä¸¦å›ºå®šé€™äº›å¤šé …å¼çš„æ‰¿è«¾ï¼ˆCommitmentsï¼‰ï¼Œæˆç‚º Verification Keyã€‚</li>
                </ul>
            </li>
            <li><strong>è­‰æ˜ç”Ÿæˆ (Proving) - Round 1~5</strong>ï¼š
                <ul>
                    <li>Prover æ ¹æ“šç§å¯†è¼¸å…¥ (Witness) èˆ‡å…¬é–‹è¼¸å…¥ (Public Input)ï¼ŒåŸ·è¡Œ 5 è¼ªäº’å‹•å”è­°ã€‚</li>
                    <li>ç”ŸæˆåŒ…å« 9 å€‹ç¾¤å…ƒç´ èˆ‡ 6 å€‹ç´”é‡å€¼çš„è­‰æ˜ <span class="math">\(\pi\)</span>ã€‚</li>
                </ul>
            </li>
            <li><strong>é©—è­‰ (Verification)</strong>ï¼š
                <ul>
                    <li>Verifier æª¢æŸ¥ Proof æ ¼å¼ã€‚</li>
                    <li>åŸ·è¡Œ Batched Pairing æª¢æŸ¥ï¼Œç¢ºèªæ‰€æœ‰å¤šé …å¼ç´„æŸæˆç«‹ã€‚</li>
                </ul>
            </li>
        </ol>

        <h3>3.2 è³‡æ–™æµèˆ‡è¨Šæ¯æµ</h3>
        <p>
            æ•´å€‹å”å®šçš„è³‡æ–™æµå‘å¦‚ä¸‹ï¼š
            <br>
            <strong>SRS</strong> $\rightarrow$ (Setup) $\rightarrow$ <strong>Prover & Verifier</strong><br>
            <strong>Circuit Logic</strong> $\rightarrow$ (Preprocessing) $\rightarrow$ <strong>Verification Key</strong> $\rightarrow$ <strong>Verifier</strong><br>
            <strong>Witness + Public Input</strong> $\rightarrow$ (Prover Computation) $\rightarrow$ <strong>Proof $\pi$</strong> $\rightarrow$ <strong>Verifier</strong><br>
        </p>

        <h3>3.3 è§’è‰²èˆ‡æ­¥é©Ÿå°ç…§è¡¨</h3>
        <ul>
            <li><strong>Setup</strong>ï¼šç”¢ç”Ÿ SRS <span class="math">\(\mathsf{srs}\)</span>ã€‚</li>
            <li><strong>Designer</strong>ï¼šè¼¸å‡º <span class="math">\([q_L]_1, [q_R]_1, \dots, [S_{\sigma 1}]_1, [S_{\sigma 2}]_1, [S_{\sigma 3}]_1\)</span>ã€‚</li>
            <li><strong>Prover</strong>ï¼š
                <ul>
                    <li>Round 1: Commit wires $a, b, c$ã€‚</li>
                    <li>Round 2: Commit permutation accumulator $z$ã€‚</li>
                    <li>Round 3: Commit quotient parts $t_{lo}, t_{mid}, t_{hi}$ã€‚</li>
                    <li>Round 4: Send evaluations $\bar{a}, \bar{b}, \bar{c}, \dots$ã€‚</li>
                    <li>Round 5: Send linearization proof $W_z, W_{z\omega}$ã€‚</li>
                </ul>
            </li>
            <li><strong>Verifier</strong>ï¼šé‡å»ºæŒ‘æˆ°å€¼ï¼ŒåŸ·è¡Œé…å°é©—è­‰ã€‚</li>
        </ul>

        <!-- NEW SUBSECTION 3.4 -->
        <h3>3.4 åœ¨åŒä¸€çµ„ SRS ä¸‹åˆ‡æ›é›»è·¯æ™‚æœƒç™¼ç”Ÿä»€éº¼ï¼Ÿ</h3>
        <p>
            åœ¨ PlonK çš„ã€Œé€šç”¨ä¸”å¯æ›´æ–° SRSã€æ¨¡å‹ä¸‹ï¼ŒåŒä¸€çµ„ SRS å¯ä»¥æ”¯æ´æ‰€æœ‰ gate æ•¸ä¸è¶…éæŸå€‹ä¸Šé™ $n$ çš„é›»è·¯ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œåªè¦åœ¨ä¸€é–‹å§‹çš„ MPC å„€å¼ä¸­ç”¢ç”Ÿäº† degree ä¸Šç•Œç‚º $d \ge n$ çš„ monomials SRSï¼Œä¹‹å¾Œä¸è«–æ›å¤šå°‘å€‹ä¸åŒé‚è¼¯çš„é›»è·¯ï¼Œéƒ½ä¸éœ€è¦é‡æ–°è·‘ setupã€‚
        </p>
        <p>
            å¯¦éš›ä¸Šï¼Œç•¶æˆ‘å€‘å¾æŸå€‹é›»è·¯ $C$ æ›åˆ°å¦ä¸€å€‹é›»è·¯ $C'$ æ™‚ï¼Œæµç¨‹æœƒæ˜¯ï¼š
            <ul>
                <li><strong>SRS å®Œå…¨ä¸è®Š</strong>ï¼šMPC å„€å¼ç”¢ç”Ÿçš„æ˜¯ä¸€çµ„é€šç”¨çš„ monomial SRSï¼ˆä¾‹å¦‚ $\{[x^i]_1\}_{i=0}^d$ï¼‰ã€‚é€™çµ„ SRS åªè·Ÿæ”¯æ´çš„æœ€å¤§å¤šé …å¼æ¬¡æ•¸ $d$ æœ‰é—œï¼Œä¸ä¾è³´ä»»ä½•ç‰¹å®šé›»è·¯ã€‚å› æ­¤æ›é›»è·¯æ™‚ï¼Œé€™çµ„ SRS åœ¨éˆä¸Šæˆ–ç³»çµ±è£¡æ˜¯å…±ç”¨ä¸”é•·æœŸå­˜åœ¨çš„ï¼Œä¸éœ€è¦é‡è·‘å„€å¼ã€‚</li>
                <li><strong>é‡æ–°ç·¨è­¯æ–°çš„é›»è·¯ç´„æŸ</strong>ï¼šé›»è·¯è¨­è¨ˆè€…æŠŠæ–°çš„é›»è·¯ $C'$ ç·¨è­¯æˆä¸€å€‹æ–°çš„ constraint system $(V', Q')$ã€‚é€™è£¡çš„ $Q'$ çµ¦å‡ºæ–°çš„ selector å‘é‡ $q_L', q_R', q_O', q_M', q_C'$ï¼Œè€Œ $V'$ çµ¦å‡ºæ–°çš„ wiring partition $T_{C'}$ï¼ˆæè¿°å“ªäº› wires æ‡‰è©²ç›¸ç­‰ï¼‰ã€‚</li>
                <li><strong>ç”¢ç”Ÿæ–°çš„ selector / permutation å¤šé …å¼</strong>ï¼šæŠŠ $Q'$ ä¸­çš„ selector å‘é‡æ’å€¼æˆå¤šé …å¼ $q_L'(X), \dots, q_C'(X)$ï¼Œä¸¦ä¸”æ ¹æ“šæ–°çš„ partition $T_{C'}$ å»ºå‡ºæ–°çš„ permutation $\sigma'$ï¼Œå†æ’å€¼æˆ $S_{\sigma 1}'(X), S_{\sigma 2}'(X), S_{\sigma 3}'(X)$ã€‚</li>
                <li><strong>ç”¨åŒä¸€çµ„ SRS å°é€™äº›å¤šé …å¼é‡æ–° commit</strong>ï¼šåˆ©ç”¨åŸæœ¬çš„ monomial SRS è¨ˆç®—
                $[q_L']_1, [q_R']_1, [q_O']_1, [q_M']_1, [q_C']_1, [S_{\sigma 1}']_1, [S_{\sigma 2}']_1, [S_{\sigma 3}']_1$ã€‚
                é€™äº›æ‰¿è«¾æ§‹æˆæ–°çš„ Verification Key $VK'$ï¼Œå°æ‡‰æ–¼é›»è·¯ $C'$ã€‚</li>
            </ul>
        </p>
        <p>
            <strong>Prover / Verifier åªæ› VKï¼Œä¸æ› SRS</strong>ï¼šä¹‹å¾Œ Prover åœ¨é›»è·¯ $C'$ ä¸Šç”¢ç”Ÿè­‰æ˜æ™‚ï¼Œç”¨çš„å¤šé …å¼æ‰¿è«¾èˆ‡ opening æ©Ÿåˆ¶å…¨éƒ¨å…±ç”¨åŸæœ¬çš„ SRSï¼›Verifier é©—è­‰ä»»ä½•ä¸€å€‹ proofï¼Œåªæ˜¯æ ¹æ“šã€Œé€™ä»½ proof å±¬æ–¼å“ªä¸€å€‹é›»è·¯ã€ï¼Œè¼‰å…¥å°æ‡‰çš„ VKï¼ˆå³é€™å€‹é›»è·¯çš„ selector / permutation æ‰¿è«¾ï¼‰ï¼Œè€Œä¸éœ€è¦æ›´æ› SRSã€‚
        </p>
        <p>
            å¾ã€Œå·¥ç¨‹æ“ä½œã€çš„è§’åº¦ä¾†çœ‹ï¼Œæ›é›»è·¯çš„æˆæœ¬åªæ˜¯é‡æ–°è·‘ä¸€éã€Œé›»è·¯é è™•ç†ï¼ˆpreprocessingï¼‰ã€ç”¢ç”Ÿæ–°çš„ VKï¼Œè€Œä¸æ˜¯é‡æ–°è·‘ MPC setupã€‚é€™ä¹Ÿæ˜¯ PlonK ç›¸å°æ–¼ Groth16 æœ€å¤§çš„éƒ¨ç½²å„ªå‹¢ä¹‹ä¸€ã€‚
        </p>
    </section>

    <section id="math">
        <h2>4. æ•¸å­¸èˆ‡å»ºæ¨¡åŸºç¤ (Math Foundation)</h2>

        <h3>4.1 æœ‰é™åŸŸã€ç¾¤èˆ‡é…å°</h3>
        <p>
            PLONK é‹ä½œåœ¨æœ‰é™åŸŸ <span class="math">\(\mathbb{F}\)</span> ä¸Šã€‚ä½¿ç”¨é›™ç·šæ€§é…å°ç¾¤ <span class="math">\(e: \mathbb{G}_1 \times \mathbb{G}_2 \to \mathbb{G}_T\)</span>ï¼Œå…¶ä¸­ <span class="math">\(\mathbb{G}_1, \mathbb{G}_2, \mathbb{G}_T\)</span> ç‚ºéšæ•¸ç‚ºè³ªæ•¸ <span class="math">\(p\)</span> çš„ç¾¤ã€‚é…å°å‡½æ•¸ <span class="math">\(e\)</span> å…·æœ‰é›™ç·šæ€§æ€§è³ªï¼Œæ˜¯é©—è­‰å¤šé …å¼ä¹˜æ³•é—œä¿‚çš„åŸºç¤ã€‚
        </p>

        <h3>4.2 ä¹˜æ³•å­ç¾¤èˆ‡ Lagrange åŸºåº•</h3>
        <p>
            ç‚ºäº†é«˜æ•ˆé€²è¡Œå¿«é€Ÿå‚…ç«‹è‘‰è®Šæ›ï¼ˆFFTï¼‰èˆ‡å¤šé …å¼é‹ç®—ï¼ŒPLONK é¸æ“‡ä¸€å€‹éšæ•¸ç‚º <span class="math">\(n\)</span> çš„ä¹˜æ³•å­ç¾¤ <span class="math">\(H = \{1, \omega, \dots, \omega^{n-1}\} \subset \mathbb{F}^*\)</span>ï¼Œå…¶ä¸­ <span class="math">\(\omega\)</span> æ˜¯æœ¬åŸ <span class="math">\(n\)</span> æ¬¡å–®ä½æ ¹ã€‚é€™å…è¨±æˆ‘å€‘ä½¿ç”¨ Lagrange åŸºåº• <span class="math">\(\{L_i(X)\}_{i=1}^n\)</span> ä¾†è¡¨ç¤ºå¤šé …å¼ï¼Œå…¶ä¸­ <span class="math">\(L_i(\omega^{j}) = \delta_{ij}\)</span>ã€‚
            é€™ç¨®è¡¨ç¤ºæ³•ä½¿å¾—åœ¨ <span class="math">\(H\)</span> ä¸Šå®šç¾©çš„ç´„æŸéå¸¸ç¨€ç–ä¸”æ˜“æ–¼è¨ˆç®—ã€‚é›¶å¤šé …å¼å®šç¾©ç‚º <span class="math">\(Z_H(X) = X^n - 1\)</span>ï¼Œå®ƒåœ¨ <span class="math">\(H\)</span> ä¸­æ‰€æœ‰é»ä¸Šçš†ç‚ºé›¶ã€‚
        </p>

        <h3>4.3 å¤šé …å¼æ‰¿è«¾ (KZG PCS)</h3>
        <p>
            PLONK ä½¿ç”¨ Kate-Zaverucha-Goldberg (KZG) å¤šé …å¼æ‰¿è«¾æ–¹æ¡ˆã€‚å‰æ–‡å·²æåŠï¼Œé€™éœ€è¦é€šç”¨çš„ SRSã€‚
            <ul>
                <li><strong>Commit</strong>: Prover è¨ˆç®— <span class="math">\([f]_1 = f(x) \cdot G_1\)</span>ã€‚</li>
                <li><strong>Open</strong>: Prover è­‰æ˜ <span class="math">\(f(z) = y\)</span>ï¼Œç”¢ç”Ÿè­‰æ˜ <span class="math">\(\pi = \frac{f(X)-y}{X-z}\)</span> çš„æ‰¿è«¾ã€‚</li>
                <li><strong>Verify</strong>: Verifier é€éé…å°æª¢æŸ¥æ‰¿è«¾çš„æ­£ç¢ºæ€§ã€‚</li>
            </ul>
            KZG æ”¯æ´æ‰¹æ¬¡é–‹å•Ÿï¼ˆbatched openingï¼‰ï¼Œé€™å°æ¸›å°‘ PLONK proof å¤§å°è‡³é—œé‡è¦ã€‚
        </p>

        <h3>4.4 Polynomial protocol èˆ‡ Ranged protocol</h3>
        <p>
            <strong>Polynomial Protocol</strong> æ˜¯ä¸€å€‹æŠ½è±¡æ¨¡å‹ï¼ŒProver å°‡å¤šé …å¼ç™¼é€çµ¦ç†æƒ³ç¬¬ä¸‰æ–¹ <span class="math">\(\mathcal{I}\)</span>ï¼ŒVerifier æŸ¥è©¢é€™äº›å¤šé …å¼åœ¨éš¨æ©Ÿé»çš„è©•ä¼°å€¼ï¼Œä¸¦æª¢æŸ¥å¤šé …å¼æ†ç­‰å¼ï¼ˆPolynomial Identitiesï¼‰ã€‚
            <strong>Ranged Protocol</strong> å‰‡è™•ç†å¦‚ã€Œå°æ–¼æ‰€æœ‰ <span class="math">\(x \in H\)</span>ï¼Œ<span class="math">\(P(x)=0\)</span>ã€é€™é¡ç´„æŸã€‚é€™åœ¨ä»£æ•¸ä¸Šç­‰åƒ¹æ–¼è­‰æ˜ <span class="math">\(P(X)\)</span> èƒ½è¢« <span class="math">\(Z_H(X)\)</span> æ•´é™¤ï¼Œå³ <span class="math">\(P(X) = Q(X) \cdot Z_H(X)\)</span>ã€‚
        </p>
    </section>

    <section id="permutation">
        <h2>5. Permutation Argument</h2>

        <h3>5.1 å–®ä¸€å¤šé …å¼çš„ Permutation Check</h3>
        <p>
            PLONK çš„æ ¸å¿ƒå‰µæ–°åœ¨æ–¼å…¶ç½®æ›è«–è­‰ã€‚åŸºæ–¼ Bayer-Groth çš„æƒ³æ³•ï¼Œè‹¥è¦è­‰æ˜å…©å€‹åºåˆ— <span class="math">\((a_1, \dots, a_n)\)</span> èˆ‡ <span class="math">\((b_1, \dots, b_n)\)</span> æ˜¯å½¼æ­¤çš„ç½®æ›ï¼ˆå³åŒ…å«ç›¸åŒçš„å…ƒç´ é›†åˆï¼‰ï¼Œæˆ‘å€‘å¯ä»¥å¼•å…¥éš¨æ©Ÿæ•¸ <span class="math">\(\beta, \gamma\)</span>ï¼Œä¸¦è­‰æ˜å¤šé …å¼ä¹˜ç©ç›¸ç­‰ï¼š
            <span class="math">\[ \prod_{i=1}^n (a_i + \beta \cdot i + \gamma) = \prod_{i=1}^n (b_i + \beta \cdot \sigma(i) + \gamma) \]</span>
        </p>

        <h3>5.2 Grand Product éè¿´é—œä¿‚</h3>
        <p>
            PLONK å®šç¾©äº†ä¸€å€‹ç´¯åŠ å¤šé …å¼ <span class="math">\(Z(X)\)</span> ä¾†è¿½è¹¤ä¸Šè¿°ä¹˜ç©çš„éç¨‹ã€‚æˆ‘å€‘è¦æ±‚ <span class="math">\(Z(X)\)</span> åœ¨å­ç¾¤ <span class="math">\(H\)</span> ä¸Šæ»¿è¶³éè¿´é—œä¿‚ï¼š
        </p>
        <ul>
            <li><strong>åˆå§‹æ¢ä»¶</strong>ï¼š<span class="math">\(Z(1) = 1\)</span></li>
            <li><strong>éè¿´æ­¥é©Ÿ</strong>ï¼šå°æ–¼æ‰€æœ‰ <span class="math">\(x \in H\)</span>ï¼Œ
                <span class="math">\[ Z(\omega x) = Z(x) \cdot \frac{f'(x)}{g'(x)} \]</span>
                å…¶ä¸­ <span class="math">\(f'(x)\)</span> èˆ‡ <span class="math">\(g'(x)\)</span> æ˜¯åŒ…å«äº† shift èˆ‡ challenge çš„åˆ†å­åˆ†æ¯é …ã€‚
            </li>
            <li><strong>çµ‚æ­¢æª¢æŸ¥</strong>ï¼šè‹¥åºåˆ—æ˜¯ç½®æ›ï¼Œå‰‡æœ€å¾Œä¸€æ­¥æœƒå›åˆ° 1ï¼Œå³ <span class="math">\(Z(\omega^{n-1} \cdot \omega) = Z(1) = 1\)</span>ã€‚</li>
        </ul>

        <h3>5.3 Extended Permutation èˆ‡ Copy Constraints</h3>
        <p>
            ç‚ºäº†åŒæ™‚è™•ç†é›»è·¯çš„ä¸‰çµ„ wire <span class="math">\(a(X), b(X), c(X)\)</span>ï¼ŒPLONK å°‡å®ƒå€‘ã€Œä¸²æ¥ã€èµ·ä¾†ã€‚ä½†å› ç‚ºéƒ½åœ¨åŒä¸€å€‹åŸŸ <span class="math">\(H\)</span> ä¸Šå®šç¾©ï¼Œæˆ‘å€‘ä¸èƒ½ç°¡å–®ä¸²æ¥ï¼Œè€Œæ˜¯ä½¿ç”¨å»£ç¾©ä½ç½®ç´¢å¼• <span class="math">\(k_1, k_2\)</span>ï¼ˆquadratic non-residuesï¼‰ä¾†å€åˆ†ä¸åŒ wire çš„ä½ç½®ã€‚
            ä¾‹å¦‚ï¼Œå·¦è¼¸å…¥çš„ä½ç½®æ¨™è¨˜ç‚º <span class="math">\(x\)</span>ï¼Œå³è¼¸å…¥æ¨™è¨˜ç‚º <span class="math">\(k_1 x\)</span>ï¼Œè¼¸å‡ºæ¨™è¨˜ç‚º <span class="math">\(k_2 x\)</span>ã€‚
            Copy constraints é€éç½®æ› <span class="math">\(\sigma\)</span> å°‡é€™äº›ä½ç½®é€£çµèµ·ä¾†ã€‚å¦‚æœ <span class="math">\(Z(X)\)</span> é€šéæª¢æŸ¥ï¼Œå‰‡ä¿è­‰äº†é›»è·¯ä¸­æ‰€æœ‰çš„é€£ç·šé—œä¿‚ï¼ˆä¾‹å¦‚ gate A çš„è¼¸å‡ºç­‰æ–¼ gate B çš„è¼¸å…¥ï¼‰éƒ½æ˜¯æ­£ç¢ºçš„ã€‚
        </p>
    </section>

    <!-- NEW SECTION: Setup -->
    <section id="setup">
        <h2>6. é€šç”¨åˆå§‹è¨­å®š (Universal Setup)</h2>
        
        <p>
            PLONK å”å®šçš„ç¬¬ä¸€æ­¥æ˜¯ç”Ÿæˆé€šç”¨çš„çµæ§‹åƒè€ƒå­—ä¸²ï¼ˆSRSï¼‰ã€‚èˆ‡æ—©æœŸçš„ zk-SNARK ä¸åŒï¼Œæ­¤ SRS æ˜¯ã€Œé€šç”¨çš„ï¼ˆUniversalï¼‰ã€ï¼Œé€™æ„å‘³è‘—å®ƒå¯ä»¥ç”¨æ–¼ä»»ä½•ä¸è¶…éç‰¹å®šå¤§å°çš„é›»è·¯ï¼Œä¸”åªéœ€ç”Ÿæˆä¸€æ¬¡ã€‚
        </p>

        <h3>6.1 MPC å„€å¼èˆ‡ Toxic Waste</h3>
        <p>
            Setup éç¨‹é€šå¸¸é€éå¤šæ–¹è¨ˆç®—ï¼ˆMPCï¼‰å„€å¼é€²è¡Œï¼Œç¨±ç‚º "Powers of Tau"ã€‚ç›®æ¨™æ˜¯ç”Ÿæˆä¸€ç³»åˆ— <span class="math">\(\tau\)</span> çš„å†ªæ¬¡åŠ å¯†å€¼ï¼ŒåŒæ™‚ç¢ºä¿æ²’æœ‰ä»»ä½•å–®ä¸€åƒèˆ‡è€…çŸ¥é“ <span class="math">\(\tau\)</span> çš„å…·é«”æ•¸å€¼ï¼ˆç¨±ç‚º Toxic Wasteï¼‰ã€‚åªè¦å„€å¼ä¸­è‡³å°‘æœ‰ä¸€ä½åƒèˆ‡è€…æ˜¯èª å¯¦ä¸¦éŠ·æ¯€äº†éš¨æ©Ÿæ•¸ï¼Œæ•´å€‹ Setup å°±æ˜¯å®‰å…¨çš„ã€‚
        </p>
        
        <h3>6.2 Monomial Basis SRS</h3>
        <p>
            PLONK éœ€è¦çš„ SRS å½¢å¼ç‚ºå–®é …å¼åŸºåº•ï¼ˆMonomial Basisï¼‰ã€‚å°æ–¼æ”¯æ´æœ€å¤§éšæ•¸ç‚º <span class="math">\(d\)</span> çš„å¤šé …å¼ï¼ŒSRS åŒ…å«ï¼š
            <ul>
                <li><span class="math">\(\mathbb{G}_1\)</span> ä¸Šçš„å†ªæ¬¡ï¼š<span class="math">\([1]_1, [\tau]_1, [\tau^2]_1, \dots, [\tau^d]_1\)</span></li>
                <li><span class="math">\(\mathbb{G}_2\)</span> ä¸Šçš„å†ªæ¬¡ï¼š<span class="math">\([1]_2, [\tau]_2\)</span> ï¼ˆåƒ…éœ€ç¬¬ä¸€é …ç”¨æ–¼ Pairing é©—è­‰ï¼‰</li>
            </ul>
        </p>

        <div class="chart-container">
            <div class="mermaid">
            graph LR
            %% ç¯€é»æ¨£å¼
            classDef actor fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px;
            classDef process fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
            classDef secure fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px;
            classDef artifact fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,stroke-dasharray: 5 5;

            P1("åƒèˆ‡è€… 1"):::actor
            P2("åƒèˆ‡è€… 2"):::actor
            Pn("åƒèˆ‡è€… n"):::actor
            
            subgraph MPC ["MPC Ceremony"]
                Step1("éš¨æ©Ÿæ¡æ¨£"):::process
                Step2("æ›´æ–° SRS"):::process
                Step3("éš¨æ©Ÿæ¡æ¨£"):::process
                StepN("æœ€çµ‚æ›´æ–°"):::process
                
                P1 --> Step1 --> Step2
                P2 --> Step3 --> Step2
                Pn --> StepN
            end
            
            Toxic("Toxic Waste éŠ·æ¯€"):::secure
            SRS("SRS Monomial Basis"):::artifact
            
            Step1 -.-> Toxic
            Step3 -.-> Toxic
            StepN --> SRS
            Step2 --> StepN
            </div>
        </div>
    </section>

    <!-- NEW SECTION: Preprocessing -->
    <section id="preprocessing">
        <h2>7. é›»è·¯é è™•ç† (Circuit Preprocessing)</h2>

        <p>
            åœ¨è­‰æ˜ç”Ÿæˆä¹‹å‰ï¼Œé›»è·¯è¨­è¨ˆè€…æˆ–ç¶­è­·è€…å¿…é ˆå°ç®—è¡“é›»è·¯é€²è¡Œé è™•ç†ã€‚é€™ä¸€æ­¥é©Ÿå°‡é›»è·¯çš„é‚è¼¯çµæ§‹è½‰æ›ç‚ºå¤šé …å¼å½¢å¼ï¼Œä¸¦ç”Ÿæˆé©—è­‰é‡‘é‘°ï¼ˆVerification Key, VKï¼‰ã€‚é€™äº›è³‡è¨Šå° Verifier æ˜¯å…¬é–‹çš„ã€‚
        </p>

        <h3>7.1 ç´„æŸç³»çµ±çš„ç®—è¡“åŒ–</h3>
        <p>
            é›»è·¯è¢«è¡¨ç¤ºç‚ºä¸€çµ„åŠ æ³•é–˜èˆ‡ä¹˜æ³•é–˜ã€‚é è™•ç†éšæ®µæœƒç”Ÿæˆä»¥ä¸‹å¤šé …å¼ï¼ˆåœ¨ Lagrange åŸºåº•ä¸Šï¼‰ï¼š
            <ul>
                <li><strong>é¸æ“‡å­å¤šé …å¼ (Selector Polynomials)</strong>ï¼š<span class="math">\(q_L, q_R, q_O, q_M, q_C\)</span>ã€‚é€™äº›å¤šé …å¼åœ¨æ¯å€‹é–˜çš„ä½ç½® <span class="math">\(\omega^i\)</span> ä¸Šå®šç¾©äº†è©²é–˜çš„é¡å‹ï¼ˆä¾‹å¦‚åŠ æ³•é–˜å‰‡ <span class="math">\(q_L=1, q_R=1, q_O=-1\)</span>ï¼‰ã€‚</li>
                <li><strong>ç½®æ›å¤šé …å¼ (Permutation Polynomials)</strong>ï¼š<span class="math">\(S_{\sigma 1}, S_{\sigma 2}, S_{\sigma 3}\)</span>ã€‚é€™äº›å¤šé …å¼ç·¨ç¢¼äº†é›»è·¯ä¸­çš„ç·šè·¯é€£æ¥è³‡è¨Šï¼ˆCopy Constraintsï¼‰ã€‚</li>
            </ul>
        </p>

        <h3>7.2 é©—è­‰é‡‘é‘°ç”Ÿæˆ</h3>
        <p>
            è¨ˆç®—å‡ºçš„å¤šé …å¼ç¶“é KZG Commit æˆç‚ºç¾¤å…ƒç´  <span class="math">\(\mathbb{G}_1\)</span>ã€‚é€™äº›æ‰¿è«¾å€¼æ§‹æˆäº† VKï¼ŒVerifier å°‡ä½¿ç”¨å®ƒå€‘ä¾†é©—è­‰ Proof æ˜¯å¦å°æ‡‰æ–¼ç‰¹å®šçš„é›»è·¯é‚è¼¯ã€‚
        </p>

        <div class="chart-container">
            <div class="mermaid">
            graph TD
            %% æ¨£å¼
            classDef artifact fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,stroke-dasharray: 5 5;
            classDef process fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
            classDef code fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px;

            subgraph Logic ["1. é‚è¼¯å®šç¾©"]
                R1CS("R1CS / Circuit"):::code
                Constraints("Gates: Add/Mul"):::artifact
                R1CS --> Constraints
            end

            subgraph PolyGen ["2. å¤šé …å¼ç”Ÿæˆ"]
                Selectors("è¨ˆç®— Selectors"):::process
                Perms("è¨ˆç®— Permutations"):::process
                
                Constraints --> Selectors
                Constraints --> Perms
            end

            subgraph Commitment ["3. æ‰¿è«¾ (MSM)"]
                SRS("SRS"):::artifact
                Commit("KZG Commit"):::process
                
                Selectors --> Commit
                Perms --> Commit
                SRS --> Commit
            end
            
            VK("Verification Key"):::artifact
            Commit --> VK
            </div>
        </div>
    </section>

    <section id="proving">
        <h2>8. Prover æµç¨‹ (Proving)</h2>

        <h3>8.1 å‰è™•ç†å›é¡§</h3>
        <p>
            Prover é€²å…¥è­‰æ˜éšæ®µå‰ï¼Œå·²æ“æœ‰é›»è·¯çš„çµæ§‹æ‰¿è«¾ã€‚
        </p>

        <h3>8.2 Round 1ï¼šWire å¤šé …å¼</h3>
        <p>
            Prover ç”Ÿæˆ wire å¤šé …å¼ <span class="math">\(a(X), b(X), c(X)\)</span>ã€‚
            ç‚ºäº†ç¢ºä¿<strong>é›¶çŸ¥è­˜æ€§ï¼ˆZero-Knowledgeï¼‰</strong>ï¼Œé€™äº›å¤šé …å¼ä¸åƒ…åƒ…æ˜¯æ’å€¼ witnessï¼Œé‚„åŠ ä¸Šäº†éš¨æ©Ÿ blinding å› å­ï¼š
            <span class="math">\[ a(X) = a_{logic}(X) + (b_1 X + b_2)Z_H(X) \]</span>
            é€™äº›éš¨æ©Ÿé …ç¢ºä¿äº†å³ä¾¿å¤šé …å¼è¢«å…¬é–‹éƒ¨åˆ†è³‡è¨Šï¼Œä¹Ÿç„¡æ³•åæ¨åŸå§‹ witnessã€‚Prover è¨ˆç®—ä¸¦ç™¼é€æ‰¿è«¾ <span class="math">\([a]_1, [b]_1, [c]_1\)</span>ã€‚
        </p>

        <h3>8.3 Round 2ï¼šPermutation Polynomial z</h3>
        <p>
            Verifier ç™¼é€æŒ‘æˆ° <span class="math">\(\beta, \gamma\)</span>ã€‚Prover æ ¹æ“š Permutation Argument çš„é‚è¼¯å»ºæ§‹ç´¯åŠ å¤šé …å¼ <span class="math">\(z(X)\)</span>ã€‚
            <span class="math">\(z(X)\)</span> åŒæ¨£åŒ…å« blinding éš¨æ©Ÿé …ã€‚Prover è¨ˆç®—ä¸¦ç™¼é€ <span class="math">\([z]_1\)</span>ã€‚
        </p>

        <h3>8.4 Round 3ï¼šQuotient Polynomial t</h3>
        <p>
            Verifier ç™¼é€æŒ‘æˆ° <span class="math">\(\alpha\)</span>ã€‚Prover å¿…é ˆè­‰æ˜æ‰€æœ‰ç´„æŸæˆç«‹ã€‚ä»–å°‡ä¸‰ç¨®ç´„æŸç”¨ <span class="math">\(\alpha\)</span> ç·šæ€§çµ„åˆèµ·ä¾†ï¼š
            <span class="math">\[ t(X) = \frac{1}{Z_H(X)} \left( \text{GateConstraints}(X) + \alpha \cdot \text{PermutationCheck}(X) + \alpha^2 \cdot \text{L1Check}(X) \right) \]</span>
            ç”±æ–¼ <span class="math">\(t(X)\)</span> çš„æ¬¡æ•¸å¤§ç´„æ˜¯ $3n$ï¼ˆå¯¦éš›ä¸Šæ˜¯ $3n$ å†åŠ ä¸Šä¸€å€‹å¸¸æ•¸ç´šçš„é¤˜é‡ï¼‰ï¼Œå·²ç¶“è¶…å‡º SRS èƒ½ç›´æ¥æ”¯æ´çš„ degree ä¸Šç•Œ $n$ï¼Œå› æ­¤å¿…é ˆæ‹†æˆä¸‰å€‹ degree $< n$ çš„å¤šé …å¼ $t_{lo}, t_{mid}, t_{hi}$ ä¾†åˆ†åˆ¥ commitã€‚Prover ç™¼é€ <span class="math">\([t_{lo}]_1, [t_{mid}]_1, [t_{hi}]_1\)</span>ã€‚
        </p>

        <h3>8.5 Round 4ï¼šEvaluations</h3>
        <p>
            Verifier ç™¼é€æŒ‘æˆ°é» $z$ã€‚Prover ä¸ç›´æ¥æ‰“é–‹å¤šé …å¼æœ¬èº«ï¼Œè€Œæ˜¯åªå‚³é€å®ƒå€‘åœ¨æŒ‘æˆ°é»çš„ã€Œè©•ä¼°å€¼ã€ï¼ˆç´”é‡ï¼‰ã€‚å¯¦éš›ä¸Šåªéœ€è¦é€å‡º 6 å€‹æ•¸å€¼ï¼š
            $$
            \bar{a} = a(z),\quad
            \bar{b} = b(z),\quad
            \bar{c} = c(z),\quad
            \bar{S}_{\sigma 1} = S_{\sigma 1}(z),\quad
            \bar{S}_{\sigma 2} = S_{\sigma 2}(z),\quad
            \bar{z}_\omega = z(\omega z)
            $$
        </p>
        <p>
            é€™è£¡æ³¨æ„ï¼Œå•†å¤šé …å¼ $t(X)$ ä¸¦ä¸éœ€è¦å–®ç¨åœ¨é» $z$ é–‹å•Ÿã€‚Verifier åªæœƒé€éå…¶ä¸‰å€‹æ‰¿è«¾ $[t_{lo}]_1, [t_{mid}]_1, [t_{hi}]_1$ å’Œ $Z_H(z)$ çš„å€¼ï¼ŒæŠŠå®ƒå€‘ç·šæ€§çµ„åˆé€²ç·šæ€§åŒ–å¤šé …å¼èˆ‡æœ€çµ‚çš„é…å°æª¢æŸ¥ä¸­ï¼Œå› æ­¤ä¸æœƒå¦å¤–å‚³é€ $\bar{t} = t(z)$ é€™å€‹ç´”é‡ã€‚
        </p>
        <p>
            æ³¨æ„ï¼š
            <ul>
                <li>$\bar{S}_{\sigma 3}$ çš„è©•ä¼°å€¼ä¸éœ€è¦ç”± Prover é¡å¤–å‚³é€ï¼ŒVerifier å¯ä»¥åˆ©ç”¨å·²çŸ¥çš„ç½®æ›çµæ§‹ï¼Œåœ¨æœ¬åœ°æ¨å°å‡ºç›¸å®¹çš„å€¼ï¼Œå¾è€Œç¯€çœé »å¯¬ã€‚</li>
                <li>Permutation polynomial $z(X)$ åªéœ€è¦åœ¨ shift é» $\omega z$ é–‹å•Ÿä¸€æ¬¡ï¼Œç”¨ä¾†é©—è­‰ grand product çš„éè¿´é—œä¿‚ã€‚</li>
            </ul>
        </p>

        <h3>8.6 Round 5ï¼šLinearisation èˆ‡ Opening Proof</h3>
        <p>
            Verifier ç™¼é€æŒ‘æˆ° <span class="math">\(v\)</span>ã€‚
            <strong>Linearization (ç·šæ€§åŒ–)</strong>ï¼šç‚ºäº†é¿å… Verifier åŸ·è¡Œæ˜‚è²´çš„é«˜æ¬¡å¤šé …å¼é‹ç®—ï¼ŒProver å»ºæ§‹ä¸€å€‹ç·šæ€§åŒ–å¤šé …å¼ <span class="math">\(r(X)\)</span>ã€‚é€™å€‹å¤šé …å¼å°‡éƒ¨åˆ†è®Šæ•¸æ›¿æ›ç‚º Round 4 çš„å¸¸æ•¸è©•ä¼°å€¼ï¼Œåªä¿ç•™å¿…è¦çš„æœªçŸ¥é …ã€‚
            æœ€å¾Œï¼ŒProver ç”¢ç”Ÿå…©å€‹ Opening Proofsï¼š
            1. <span class="math">\(W_z(X)\)</span>ï¼šè­‰æ˜ <span class="math">\(r(X)\)</span> åŠå…¶ä»–å¤šé …å¼åœ¨ <span class="math">\(z\)</span> é»çš„å€¼æ­£ç¢ºã€‚
            2. <span class="math">\(W_{z\omega}(X)\)</span>ï¼šè­‰æ˜ <span class="math">\(z(X)\)</span> åœ¨ <span class="math">\(\omega z\)</span> é»çš„å€¼æ­£ç¢ºã€‚
        </p>

        <!-- Detailed Proving Flowchart -->
        <div class="chart-container">
            <div class="mermaid">
            graph TD
            classDef round fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
            classDef challenge fill:#fbe9e7,stroke:#d84315,stroke-width:2px,stroke-dasharray: 5 5;
            classDef output fill:#fff9c4,stroke:#fbc02d,stroke-width:2px;

            Start(("é–‹å§‹")) --> R1
            
            subgraph R1 ["Round 1"]
                Step1("è¨ˆç®— Wire Polynomials"):::round
                Blind1("Blinding è™•ç†"):::round
                Com1("Output: Commitments"):::output
                Step1 --> Blind1 --> Com1
            end

            Chal1("æŒ‘æˆ°: Beta Gamma"):::challenge
            Com1 --> Chal1 --> R2

            subgraph R2 ["Round 2"]
                Step2("è¨ˆç®— Acc Poly z"):::round
                Blind2("Blinding"):::round
                Com2("Output: z Commit"):::output
                Step2 --> Blind2 --> Com2
            end

            Chal2("æŒ‘æˆ°: Alpha"):::challenge
            Com2 --> Chal2 --> R3

            subgraph R3 ["Round 3"]
                Step3("è¨ˆç®— Quotient t"):::round
                Split3("æ‹†åˆ† t_lo, t_mid, t_hi"):::round
                Com3("Output: t Commits"):::output
                Step3 --> Split3 --> Com3
            end

            Chal3("æŒ‘æˆ°: z é»"):::challenge
            Com3 --> Chal3 --> R4

            subgraph R4 ["Round 4"]
                Step4("è¨ˆç®— Evaluations"):::round
                Out4("Output: Scalars"):::output
                Step4 --> Out4
            end

            Chal4("æŒ‘æˆ°: v"):::challenge
            Out4 --> Chal4 --> R5

            subgraph R5 ["Round 5"]
                Step5("Linearization"):::round
                Open5("è¨ˆç®— Opening Proofs"):::round
                Out5("Output: Proofs"):::output
                Step5 --> Open5 --> Out5
            end
            </div>
        </div>
    </section>

    <section id="verification">
        <h2>9. Verifier æµç¨‹ (Verification)</h2>

        <h3>9.1 é©—è­‰è¼¸å…¥èˆ‡å…¬é–‹åƒæ•¸</h3>
        <p>
            Verifier æ“æœ‰ SRSã€é›»è·¯é è™•ç†æ‰¿è«¾ï¼ˆVerification Keyï¼‰ã€ä»¥åŠ Public Input <span class="math">\(x\)</span>ã€‚æ”¶åˆ°çš„ Proof åŒ…å«æ‰¿è«¾å€¼èˆ‡è©•ä¼°å€¼ã€‚
        </p>

        <h3>9.2 æŒ‘æˆ°å€¼é‡å»ºèˆ‡ Public Input</h3>
        <p>
            Verifier æ ¹æ“š Transcript é‡å»ºæ‰€æœ‰éš¨æ©ŸæŒ‘æˆ°å€¼ã€‚
            æ¥è‘—ï¼ŒVerifier å¿…é ˆè‡ªè¡Œè™•ç† Public Inputã€‚é€™å°æ‡‰æ–¼å¤šé …å¼ <span class="math">\(PI(X) = \sum_{i} x_i L_i(X)\)</span>ã€‚Verifier è¨ˆç®— <span class="math">\(PI(z)\)</span> çš„å€¼ï¼Œé€™ç¢ºä¿äº† Prover ä½¿ç”¨äº†æ­£ç¢ºçš„å…¬é–‹è¼¸å…¥ä¾†ç”Ÿæˆè­‰æ˜ã€‚
        </p>

        <h3>9.3 Batched Pairing æª¢æŸ¥</h3>
        <p>
            Verifier å°‡æ‰€æœ‰éœ€è¦é©—è­‰çš„å¤šé …å¼æ†ç­‰å¼ï¼ˆGate, Permutation, Evaluation correctnessï¼‰é€ééš¨æ©Ÿä¿‚æ•¸ <span class="math">\(v\)</span> å’Œ <span class="math">\(u\)</span> å£“ç¸®æˆä¸€å€‹å¤§çš„ç·šæ€§çµ„åˆã€‚
            æœ€çµ‚ï¼Œæ ¹æ“š KZG çš„æ€§è³ªï¼Œåªéœ€è¦æª¢æŸ¥å–®ä¸€å€‹é…å°ç­‰å¼ï¼š
            <span class="math">\[ e([W_z] + u[W_{z\omega}], [x]_2) \stackrel{?}{=} e(z \cdot [W_z] + u z\omega \cdot [W_{z\omega}] + [F]_1 - [E]_1, [1]_2) \]</span>
            å…¶ä¸­ <span class="math">\([F]_1\)</span> æ˜¯æ‰¿è«¾çš„ç·šæ€§çµ„åˆï¼Œ<span class="math">\([E]_1\)</span> æ˜¯è©•ä¼°å€¼çš„ç·šæ€§çµ„åˆã€‚è‹¥ç­‰å¼æˆç«‹ï¼Œå‰‡ä¿è­‰æ‰€æœ‰åº•å±¤ç´„æŸçš†è¢«æ»¿è¶³ã€‚
        </p>

        <!-- Detailed Verification Flowchart -->
        <div class="chart-container">
            <div class="mermaid">
            graph TD
            classDef input fill:#fff9c4,stroke:#fbc02d,stroke-width:2px;
            classDef process fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
            classDef check fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px;

            Inputs("Inputs: Proof, VK, PublicInput"):::input
            
            subgraph Reconstruct ["1. åƒæ•¸é‡å»º"]
                Transcript("Transcript Hash"):::process
                Challenges("æŒ‘æˆ°å€¼"):::process
                Transcript --> Challenges
            end
            
            subgraph PI_Calc ["2. å…¬é–‹è¼¸å…¥è™•ç†"]
                PI_Eval("è¨ˆç®— PI z"):::process
                Lagrange("è¨ˆç®— L1 z, Zh z"):::process
            end

            subgraph Linearization ["3. ç·šæ€§åŒ–"]
                Combine("çµ„åˆ Commitment"):::process
                CombineE("çµ„åˆ Evaluation"):::process
                
                Challenges --> Combine
                Challenges --> CombineE
            end
            
            subgraph FinalCheck ["4. Pairing Check"]
                Pairing{"Pairing Check é©—è­‰"}:::check
                Valid(["Valid Proof"])
                Invalid(["Reject"])
                
                Pairing -->|Yes| Valid
                Pairing -->|No| Invalid
            end

            Inputs --> Transcript
            Inputs --> PI_Eval
            Challenges --> PI_Eval
            PI_Eval --> CombineE
            Combine --> Pairing
            CombineE --> Pairing
            </div>
        </div>
    </section>

    <section id="performance">
        <h2>10. æ•ˆèƒ½èˆ‡å¯¦ä½œ (Performance)</h2>

        <h3>10.1 Prover / Verifier è¤‡é›œåº¦</h3>
        <p>
            æ ¹æ“šè«–æ–‡åˆ†æèˆ‡å¯¦ä½œæ•¸æ“šï¼ŒPLONK çš„ Prover è¤‡é›œåº¦ä¸»è¦ç”± <span class="math">\(9(n+a)\)</span> æ¬¡ <span class="math">\(\mathbb{G}_1\)</span> æŒ‡æ•¸é‹ç®—ä¸»å°ï¼Œå…¶ä¸­ $n$ å¯ä»¥è¦–ç‚ºä¹˜æ³•é–˜ï¼ˆmultiplication gatesï¼‰çš„æ•¸é‡ï¼Œè€Œ $a$ å‰‡æ˜¯åŠ æ³•é–˜ï¼ˆaddition gatesï¼‰çš„æ•¸é‡ã€‚è«–æ–‡ä¸­å¦å¤–ä»¥ $m$ è¡¨ç¤º wireï¼R1CS è®Šæ•¸çš„å€‹æ•¸ï¼Œé€šå¸¸æ»¿è¶³ $m \approx n$ã€‚èˆ‡ Sonic ç›¸æ¯”ï¼ŒPLONK ç§»é™¤äº†å¤§é‡çš„æ˜‚è²´è¨ˆç®—ï¼Œä½¿å¾— Prover é€Ÿåº¦é¡¯è‘—æå‡ã€‚Verifier çš„è¤‡é›œåº¦å›ºå®šç‚º 2 æ¬¡é…å°é‹ç®—ï¼Œé€™èˆ‡ Groth16ï¼ˆ3 æ¬¡é…å°ï¼‰ç›¸ç•¶ç”šè‡³æ›´å„ªï¼Œå±¬æ–¼å¸¸æ•¸ç­‰ç´šé©—è­‰ã€‚
        </p>

        <p>
            åŸè«–æ–‡ä¸­å¯¦éš›çµ¦å‡ºäº†å…©ç¨® PlonK è®Šé«”å¯é¸ï¼š<br>
            <strong>small proof ç‰ˆæœ¬</strong>ï¼šProver éœ€è¦ç´„ $11(n+a)$ æ¬¡ $\mathbb{G}_1$ æŒ‡æ•¸é‹ç®—ï¼Œä½† proof å°‘å…©å€‹ç¾¤å…ƒç´ ï¼ŒVerifier çš„éƒ¨åˆ†é‹ç®—ç¨å¾®æ¸›å°‘ã€‚<br>
            <strong>fast prover ç‰ˆæœ¬</strong>ï¼šProver çš„æŒ‡æ•¸é‹ç®—æ¬¡æ•¸é™ç‚º $9(n+a)$ï¼Œä¹Ÿå°±æ˜¯æœ¬å ±å‘Šæ¡ç”¨çš„åƒæ•¸ï¼›ä»£åƒ¹æ˜¯ proof å¤šå‡ºå…©å€‹ç¾¤å…ƒç´ ï¼ŒVerifier å¤šåšå°‘é‡æ¨™é‡ä¹˜æ³•ã€‚<br>
            åœ¨ã€Œé€šç”¨ SRSã€çš„å‰æä¸‹ï¼Œfast prover ç‰ˆæœ¬çš„ PlonK åœ¨ Prover è€—æ™‚ä¸Šå·²ç¶“éå¸¸æ¥è¿‘ Groth16ï¼Œä½†åŒæ™‚ä¿ç•™äº†ã€ŒåŒä¸€çµ„ SRS å¯æ”¯æ´å¤šå€‹é›»è·¯ã€çš„å½ˆæ€§ã€‚
        </p>

        <h3>10.2 èˆ‡ Groth16 / Sonic / Marlin çš„æ¯”è¼ƒ</h3>
        <table>
            <tr>
                <th>ç‰¹æ€§</th>
                <th>Groth16</th>
                <th>Sonic (Helped)</th>
                <th>PLONK</th>
                <th>Marlin</th>
            </tr>
            <tr>
                <td>SRS é¡å‹</td>
                <td>é›»è·¯å°ˆç”¨</td>
                <td>é€šç”¨ã€å¯æ›´æ–°</td>
                <td>é€šç”¨ã€å¯æ›´æ–°</td>
                <td>é€šç”¨ã€å¯æ›´æ–°</td>
            </tr>
            <tr>
                <td>Proof å¤§å°</td>
                <td>æ¥µå° (3 group elements)</td>
                <td>ä¸­ç­‰</td>
                <td>å° (~400-600 bytes)</td>
                <td>è¼ƒå¤§</td>
            </tr>
            <tr>
                <td>Verifier æ™‚é–“</td>
                <td>æ¥µå¿«</td>
                <td>å¿«</td>
                <td>æ¥µå¿«</td>
                <td>å¿«</td>
            </tr>
        </table>
        <p>
            PLONK åœ¨é€šç”¨ SRS çš„å‰æä¸‹ï¼Œé”åˆ°äº†æœ€æ¥è¿‘ Groth16 çš„æ•ˆèƒ½ã€‚é›–ç„¶ Proof å¤§å°ç•¥å¤§æ–¼ Groth16ï¼Œä½†åœ¨éˆæ´»æ€§èˆ‡ setup å®‰å…¨æ€§ä¸Šçš„å„ªå‹¢ä½¿å…¶æˆç‚ºç¾ä»£ SNARK æ‡‰ç”¨çš„é¦–é¸ä¹‹ä¸€ã€‚
        </p>

        <h3>10.3 å¯¦ä½œèˆ‡ Benchmark çµæœ</h3>
        <p>
            åœ¨æ¨™æº–ç¡¬é«”ä¸Šçš„åŸºæº–æ¸¬è©¦é¡¯ç¤ºï¼Œå°æ–¼ç™¾è¬é–˜ï¼ˆ<span class="math">\(2^{20}\)</span> constraintsï¼‰ç´šåˆ¥çš„é›»è·¯ï¼ŒPLONK ç”¢ç”Ÿè­‰æ˜çš„æ™‚é–“å¯æ§åˆ¶åœ¨ 23 ç§’ä»¥å…§ï¼ˆåƒè€ƒè«–æ–‡åœ– 1 æ•¸æ“šï¼‰ã€‚é€™ä½¿å¾—å®ƒåœ¨å¯¦éš›æ‡‰ç”¨ï¼ˆå¦‚ Rollupã€éš±ç§äº¤æ˜“ï¼‰ä¸­å…·å‚™é«˜åº¦å¯è¡Œæ€§ã€‚
        </p>

        <!-- æ–°å¢çš„ DEMO é€£çµå€å¡Š -->
        <div class="demo-box">
            <h4 class="demo-title">ğŸš€ äº’å‹•å¼æ¼”ç¤º (Interactive Demo)</h4>
            <p>
                ç‚ºäº†æ›´ç›´è§€åœ°ç†è§£ PLONK çš„é‹ä½œæµç¨‹ï¼Œæˆ‘å€‘æº–å‚™äº†ä¸€å€‹ç°¡å–®çš„ç¶²é æ¼”ç¤ºã€‚æ‚¨å¯ä»¥è¦ªè‡ªé«”é©—è­‰æ˜ç”Ÿæˆçš„éç¨‹ã€‚
            </p>
            <a href="demo.html" target="_blank" class="btn">
                é–‹å•Ÿ PLONK æ¼”ç¤ºé é¢ â†—
            </a>
        </div>
    </section>

    <section id="security">
        <h2>11. å®‰å…¨æ€§èˆ‡æ“´å…… (Security)</h2>

        <h3>11.1 Compiler è§€é»ï¼šå¾ IOP åˆ° SNARK</h3>
        <p>
            PLONK çš„å®‰å…¨æ€§æ¶æ§‹å¯ä»¥è¦–ç‚ºä¸€å€‹ç·¨è­¯éç¨‹ï¼ˆCompilerï¼‰ã€‚æˆ‘å€‘é¦–å…ˆå»ºæ§‹ä¸€å€‹åœ¨è³‡è¨Šç†è«–ä¸Šå®‰å…¨çš„ <strong>Polynomial IOP (Interactive Oracle Proof)</strong>ï¼Œç¢ºä¿åªè¦ Verifier èƒ½æ­£ç¢ºæŸ¥è©¢å¤šé …å¼ï¼ŒProver å°±ç„¡æ³•ä½œå¼Šã€‚æ¥è‘—ï¼Œæˆ‘å€‘ä½¿ç”¨ <strong>KZG Polynomial Commitment Scheme</strong> ä½œç‚ºå¯†ç¢¼å­¸å¾Œç«¯ï¼Œå°‡é€™å€‹äº’å‹•å”è­°ã€Œç·¨è­¯ã€æˆä¸€å€‹ç°¡æ½”çš„ SNARKã€‚
            Lemma 4.7 æŒ‡å‡ºï¼šå¦‚æœ Polynomial IOP æœ‰ Knowledge Soundness ä¸” PCS æœ‰ Binding æ€§è³ªï¼Œå‰‡ç·¨è­¯å‡ºçš„ SNARK å…·æœ‰ Knowledge Soundnessã€‚
        </p>

        <h3>11.2 é›¶çŸ¥è­˜æ€§èˆ‡ Blinding æŠ€å·§</h3>
        <p>
            ç‚ºäº†é”æˆé›¶çŸ¥è­˜æ€§ï¼ˆZero-Knowledgeï¼‰ï¼ŒPLONK åœ¨ Prover ç”¢ç”Ÿçš„æ¯ä¸€å€‹é—œéµå¤šé …å¼ï¼ˆwire å¤šé …å¼ <span class="math">\(a, b, c\)</span>, æ’åˆ—å¤šé …å¼ <span class="math">\(z\)</span>, å•†å¤šé …å¼ <span class="math">\(t\)</span>ï¼‰ä¸­éƒ½åŠ å…¥äº† <span class="math">\(Z_H(X)\)</span> çš„éš¨æ©Ÿå€æ•¸ã€‚é€™äº›éš¨æ©Ÿé …åœ¨ <span class="math">\(H\)</span> ä¸Šçš„è©•ä¼°å€¼ç‚ºé›¶ï¼Œä¸å½±éŸ¿ç´„æŸæª¢æŸ¥ï¼Œä½†åœ¨ <span class="math">\(H\)</span> ä¹‹å¤–çš„æŸ¥è©¢é»ï¼ˆå¦‚ Verifier çš„æŒ‘æˆ°é» <span class="math">\(z\)</span>ï¼‰æä¾›äº†å®Œå…¨çš„éš¨æ©Ÿæ©è“‹ï¼Œç¢ºä¿ Verifier ç„¡æ³•å¾è©•ä¼°å€¼ä¸­æ¨å°å‡ºé—œæ–¼ witness çš„ä»»ä½•è³‡è¨Šã€‚
        </p>

        <h3>11.3 é€šç”¨ / å¯æ›´æ–° SRS çš„å®‰å…¨æ€§</h3>
        <p>
            PLONK ä½¿ç”¨çš„ Monomial SRS å„€å¼åŸºæ–¼ Bowe-Gabizon-Miers æ–¹æ¡ˆã€‚è©²æ–¹æ¡ˆæ”¯æ´ç„¡é™æ¬¡æ•¸çš„åƒèˆ‡è€…ä¾åºæ›´æ–° SRSã€‚åªè¦å…¶ä¸­ä»»ä½•ä¸€å€‹æ›´æ–°è€…éŠ·æ¯€äº†å…¶ä½¿ç”¨çš„éš¨æ©Ÿäº‚æ•¸ï¼ˆtoxic wasteï¼‰ï¼Œæ•´å€‹ SRS å°±æ˜¯å®‰å…¨çš„ï¼Œé€™æ¥µå¤§å¢å¼·äº†ç³»çµ±åœ¨ç¾å¯¦ä¸–ç•Œéƒ¨ç½²çš„ä¿¡ä»»åº¦ã€‚
        </p>

        <h3>11.4 èˆ‡å…¶ä»–ç³»çµ±çš„é—œä¿‚</h3>
        <p>
            PLONK èˆ‡ Fractal æˆ– Marlin ç­‰ç³»çµ±çš„ä¸»è¦å€åˆ¥åœ¨æ–¼ç®—è¡“åŒ–ï¼ˆArithmetizationï¼‰çš„é¸æ“‡ã€‚Marlin ä½¿ç”¨é›™è®Šæ•¸ç¨€ç–å¤šé …å¼ï¼ˆbi-variate sparse polynomialsï¼‰ä¾†è™•ç† R1CSï¼Œè€Œ PLONK ä½¿ç”¨åŸºæ–¼åŠ æ³•é–˜èˆ‡ä¹˜æ³•é–˜çš„ç´„æŸç³»çµ±ï¼Œä¸¦é€é Permutation Argument è™•ç†ç·šè·¯é€£æ¥ã€‚é€™ä½¿å¾— PLONK åœ¨è™•ç†ç‰¹å®šé¡å‹çš„ã€Œæ‰‡å…¥ï¼ˆfan-inï¼‰ç‚º 2ã€çš„é›»è·¯æ™‚æ›´ç‚ºé«˜æ•ˆã€‚
        </p>
    </section>

    <section id="conclusion">
        <h2>12. çµè«– (Conclusion)</h2>

        <h3>12.1 å·¥ä½œç¸½çµ</h3>
        <p>
            PLONK æˆåŠŸåœ°åœ¨ã€Œé€šç”¨ SRSã€ã€ã€Œé«˜æ•ˆ Proverã€èˆ‡ã€Œç°¡æ½” Verifierã€ä¸‰è€…ä¹‹é–“å–å¾—äº†æ¥µä½³çš„å¹³è¡¡ã€‚é€éå¼•å…¥ Lagrange åŸºåº•çš„ç®—è¡“åŒ–èˆ‡é«˜æ•ˆçš„ Permutation Argumentï¼Œå®ƒå…‹æœäº† Sonic è­‰æ˜ç”Ÿæˆç·©æ…¢çš„ç¼ºé™·ï¼ŒåŒæ™‚ä¿ç•™äº†é€šç”¨ Setup çš„å·¨å¤§å„ªå‹¢ã€‚æœ¬å ±å‘Šå¾ç³»çµ±è§’è‰²èˆ‡æŠ€è¡“æµç¨‹çš„è§’åº¦ï¼Œè©³ç´°è§£æäº† PLONK å¦‚ä½•åˆ©ç”¨å¤šé …å¼æ‰¿è«¾èˆ‡äº’å‹•å”è­°ï¼Œæ§‹å»ºå‡ºä¸€å€‹ç¾ä»£åŒ–ã€é«˜æ•ˆèƒ½çš„ zk-SNARK ç³»çµ±ã€‚
        </p>

        <h3>12.2 å° zk-SNARK ç”Ÿæ…‹ç³»çš„æ„ç¾©</h3>
        <p>
            PLONK çš„å‡ºç¾æ¨™èªŒè‘—é€šç”¨ SNARK é€²å…¥å¯¦ç”¨åŒ–éšæ®µã€‚å®ƒé™ä½äº†é–‹ç™¼è€…éƒ¨ç½²éš±ç§æ‡‰ç”¨çš„é–€æª»ï¼ˆç„¡éœ€ç‚ºæ¯å€‹æ‡‰ç”¨é‡è·‘ Setupï¼‰ï¼Œä¸¦ä¿ƒé€²äº†å¦‚ zk-Rollup ç­‰å€å¡Šéˆæ“´å®¹æŠ€è¡“çš„ç™¼å±•ã€‚å…¶æ¨™æº–åŒ–çš„ Constraint System èˆ‡ Proof çµæ§‹ï¼Œä¹Ÿç‚ºå¾ŒçºŒçš„å·¥å…·éˆæ•´åˆå¥ å®šäº†åŸºç¤ã€‚
        </p>

        <h3>12.3 æœªä¾†å¯èƒ½çš„å»¶ä¼¸æ–¹å‘</h3>
        <p>
            æœªä¾†çš„ç ”ç©¶èˆ‡å„ªåŒ–æ–¹å‘åŒ…æ‹¬ï¼š(1) æ›¿æ›åº•å±¤çš„å¤šé …å¼æ‰¿è«¾æ–¹æ¡ˆï¼ˆå¦‚ä½¿ç”¨ Halo çš„ IPA æˆ– FRIï¼‰ï¼Œä»¥ç§»é™¤å°é…å°å‹å–„æ›²ç·šçš„ä¾è³´æˆ–é€²ä¸€æ­¥æ¸›å°‘ setup éœ€æ±‚ï¼›(2) è¨­è¨ˆè‡ªå®šç¾©é–˜ï¼ˆCustom Gatesï¼‰èˆ‡æŸ¥æ‰¾è¡¨ï¼ˆLookup Tablesï¼Œå¦‚ Plookupï¼‰ï¼Œä»¥æ”¯æ´æ›´è¤‡é›œçš„é‹ç®—é‚è¼¯ä¸¦æ¸›å°‘é›»è·¯å¤§å°ï¼›(3) æ·±åŒ–èˆ‡éè¿´ SNARKï¼ˆRecursive SNARKï¼‰çš„æ•´åˆï¼Œå¯¦ç¾ç„¡é™æ·±åº¦çš„è­‰æ˜èšåˆèˆ‡å€å¡Šéˆç‹€æ…‹å£“ç¸®ã€‚
        </p>
    </section>

</main>

</body>
</html>
